---
title: Linux内核提供的应用程序/内核接口
date: 2022-12-22 21:30:25
tags:
  - rCore
  - OS
  - Linux
  - Linux内核接口
---

![](../Linux内核提供的应用程序-内核接口/2022-12-23-09-50-48.png)


![](../Linux内核提供的应用程序-内核接口/2022-12-23-09-49-29.png)

fork + exec 结合使用。
fork 一个子进程，然后可以通过exec将进程的执行内容给换掉，换成 file 指向的那个执行文件的内容。

![](../Linux内核提供的应用程序-内核接口/2022-12-22-21-31-03.png)

- dup：得到一个一样的文件描述符
- pipe：创建一个管道，将读/写文件描述符放在p[0] p[1] 中
这两个结合是用来进程间通信的。dup 调用之后，就有了两个描述符，一个用来读文件，一个用来写文件。


![](../Linux内核提供的应用程序-内核接口/2022-12-22-21-37-10.png)

- mknod 创建一个设备文件
这里是将设备也抽象成了file，通过更高层的抽象来屏蔽低层的差异。
这也导致了文件系统的复杂性。

- fstat
- stat
获取文件的相关信息，更多地了解文件。文件系统比较复杂，包含了多种设备、存储空间的抽象。可以从这里了解更多信息。

- link
  在一个目录下创建一个文件，在另一个目录下创建一个link。一个文件可能存在不同的身份，如此能够有更灵活的管理措施。
- unlink：会先检查次文件的link数量是否为1，如果不为1，只会对文件的连接数进行减一操作。如果连接为1，并且此时没有任何进程打开此文件，此内容才会被真正删除掉。


