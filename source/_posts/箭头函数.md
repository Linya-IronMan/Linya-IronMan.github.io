---
title: 箭头函数
date: 2022-05-16 00:17:32
tags:
    - 面试题
    - JavaScript
---

# 箭头函数

箭头函数中的 this 全部指向定义时父作用域的 this 指向

## 箭头函数的缺点

1. 没有 arguments
2. 无法通过 apply call bind 改变 this 指向
3. 某些箭头函数代码难以阅读

```javascript
const fn3 = (a, b) => (b === undefined ? b => a * b : a * b);
```

## 什么时候不能使用箭头函数？(6 种)

1. 对象的方法不能使用箭头函数

```javascript
const obj = {
    name: '臭豆腐',
    genName: () => {
        // 此处 this 并不指向 obj
        return this.name;
    },
};
```

2. 原型上的方法

```javascript
const obj = {
    name: '臭豆腐',
};
obj.__proto__.getName = () => {
    return this.name;
};
```

3. 构造函数

```javascript
const Foo = (name, city) => {
    this.name = name;
    this.city = city;
};
const f = new Foo('臭豆腐', '北京');
```

4. 动态上下文中的回调函数

```javascript
const btn = document.getElementById('btn1');
btn1.addEventListener('click', () => {
    this.innerHTML = 'clicked';
});
```

5. Vue 声明周期和 method

Vue 组件本质上就是一个对象。

而 React 组件（非 hooks）则是定义在 Class 上的

6. class 上可以使用箭头函数

```javascript
class Foo {
    constructor() {}
    getName = () => {};
}
```
